<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P1落地页状态测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-card {
            border: 2px solid #25D366;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            background: #f0fbf3;
        }
        .test-link {
            display: inline-block;
            background: #25D366;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            margin: 8px 8px 8px 0;
            font-weight: 600;
        }
        .test-link:hover {
            background: #128C7E;
        }
        .description {
            color: #64748b;
            margin: 12px 0;
        }
        h1 {
            color: #128C7E;
            text-align: center;
        }
        h2 {
            color: #25D366;
        }
        .status {
            background: #DCF8C6;
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
            font-size: 14px;
            font-weight: 600;
            margin: 4px 0;
        }
        .fixed-notice {
            background: #fff7ed;
            border: 2px solid #fed7aa;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .fixed-notice h3 {
            color: #b45309;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <h1>🧪 P1落地页状态测试</h1>
    
    <div class="fixed-notice">
        <h3>✅ Bug修复说明</h3>
        <p><strong>问题</strong>：页面直接显示结束状态</p>
        <p><strong>原因</strong>：倒计时结束时间设置为过去时间(2025-10-01)，导致自动进入结束状态</p>
        <p><strong>修复</strong>：</p>
        <ul>
            <li>将倒计时设置为当前时间+30天</li>
            <li>移除自动结束状态判断逻辑</li>
            <li>只有通过URL参数 <code>?status=ended</code> 才显示结束状态</li>
        </ul>
    </div>

    <div class="test-card">
        <h2>🏠 S1.1 默认状态</h2>
        <div class="description">
            标准的落地页状态，显示活动信息、奖品列表、参与按钮等
        </div>
        <div class="status">预期：显示正常活动页面，倒计时约30天</div>
        <a href="./p1-landing-page.html" class="test-link" target="_blank">测试默认状态</a>
    </div>

    <div class="test-card">
        <h2>🎁 S1.2 邀请状态</h2>
        <div class="description">
            被邀请用户访问时的状态，显示个性化Toast和优化后的CTA按钮
        </div>
        <div class="status">预期：显示"张明送你一个抽奖码"Toast，CTA变为"领取并参与"</div>
        <a href="./p1-landing-page.html?ref=user_001&inviter=张明" class="test-link" target="_blank">测试邀请状态</a>
        <a href="./p1-landing-page.html?ref=user_002&inviter=李华" class="test-link" target="_blank">测试邀请状态(李华)</a>
    </div>

    <div class="test-card">
        <h2>⏰ S1.3 结束状态</h2>
        <div class="description">
            活动结束时的状态，显示全屏遮罩和结束信息
        </div>
        <div class="status">预期：显示"活动已结束"遮罩，背景模糊</div>
        <a href="./p1-landing-page.html?status=ended" class="test-link" target="_blank">测试结束状态</a>
    </div>

    <h2>🔧 测试说明</h2>
    <ul>
        <li><strong>默认状态</strong>：正常打开页面应该显示S1.1状态</li>
        <li><strong>邀请状态</strong>：URL包含ref和inviter参数时显示S1.2状态</li>
        <li><strong>结束状态</strong>：URL包含status=ended参数时显示S1.3状态</li>
        <li><strong>倒计时</strong>：现在设置为30天后结束，不会自动触发结束状态</li>
        <li><strong>跑马灯</strong>：显示Google头像策略的动态消息</li>
        <li><strong>数据模拟</strong>：参与人数、奖品信息等都是模拟数据</li>
    </ul>

    <h2>📊 验收检查清单</h2>
    <ul>
        <li>✅ 默认状态正常显示，不会自动跳转到结束状态</li>
        <li>✅ 邀请状态显示个性化Toast</li>
        <li>✅ 结束状态只在URL参数指定时显示</li>
        <li>✅ 倒计时显示约30天</li>
        <li>✅ 跑马灯显示用户头像和动态消息</li>
        <li>✅ 响应式设计在不同设备上正常</li>
        <li>✅ 所有交互按钮工作正常</li>
    </ul>

    <script>
        console.log('P1落地页测试页面已加载');
        console.log('当前时间:', new Date().toLocaleString());
        console.log('修复的问题: 倒计时结束时间和状态判断逻辑');
    </script>
</body>
</html>
